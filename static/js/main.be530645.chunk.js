(this["webpackJsonpemployee-directory"]=this["webpackJsonpemployee-directory"]||[]).push([[0],{19:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(8),l=n.n(s),i=n(9),o=n(10),m=n(13),d=n(11),j=(n(19),n(4)),u=n(12),h=n(6),f=n(2),b=["sort","sort-up","sort-down"],p=b[0],x=b[1],O=b[2];var g=[{title:"First Name",nameField:"first"},{title:"Last Name",nameField:"last"}],v=g.reduce((function(e,t){return Object.assign(e,Object(f.a)({},t.title,p))}),{}),y=Object(h.a)({},v);function N(e,t){var n=t;return Object.keys(n).forEach((function(t){t!==e&&(n[t]=p)})),n[e]=function(e){var t=b.findIndex((function(t){return t===e}))+1;return t===b.length?b[0]:b[t]}(n[e]),n}function k(e,t,n){return Object(u.a)(e).sort((function(e,c){return e.name[t].localeCompare(c.name[t])*(n===x?1:n===O?-1:0)}))}function w(e,t){var n,c=Object(j.a)(g);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(t[a.title]!==p)return k(e,a.nameField,t[a.title])}}catch(r){c.e(r)}finally{c.f()}return e}var F=function(e){var t;switch(e.icon){case O:t="fa-sort-down";break;case x:t="fa-sort-up";break;case p:default:t="fa-sort"}return Object(c.jsx)("th",{scope:"col",className:"th-sort",onClick:e.onClick,children:Object(c.jsxs)("p",{className:"d-flex justify-content-between mb-0 align-items-center",children:[e.title,Object(c.jsx)("i",{className:"fas "+t})]})})};var E=function(e){var t=e.text.match(e.matchWith);return t?Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)("strong",{children:t[0]}),e.text.slice(t[0].length)]}):e.text};var C=function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"align-middle",children:Object(c.jsx)("img",{src:e.employee.picture.thumbnail,alt:"".concat(e.employee.name.first," ").concat(e.employee.name.last),style:{borderRadius:"50%"}})}),Object(c.jsx)("td",{className:"align-middle",children:e.employee.title}),Object(c.jsx)("td",{className:"align-middle",children:Object(c.jsx)(E,{text:e.employee.name.first,matchWith:e.nameMatch})}),Object(c.jsx)("td",{className:"align-middle",children:Object(c.jsx)(E,{text:e.employee.name.last,matchWith:e.nameMatch})}),Object(c.jsx)("td",{className:"align-middle",children:e.employee.email}),Object(c.jsx)("td",{className:"align-middle",children:e.employee.phone}),Object(c.jsx)("td",{className:"align-middle",children:e.employee.location.postcode})]})};var S=function(e){return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:e.id,children:e.title}),Object(c.jsx)("input",{id:e.id,type:"text",className:"form-control",placeholder:e.placeholder,onChange:e.onChange})]})};function D(e){return e.toLowerCase().replace(" ","-")}var M=function(e){return Object(c.jsx)("div",{className:"form-group d-flex flex-wrap",children:e.checkList.map((function(t,n){return Object(c.jsxs)("div",{className:"form-check w-25",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",value:t,defaultChecked:e.filters[t],id:D(t),onChange:function(){e.update(t)}}),Object(c.jsx)("label",{className:"form-check-label pr-3 pb-2",htmlFor:D(t),children:t})]},n)}))})},L=["Front-End Developer","Back-End Developer","Full-Stack Developer","Dev Ops"];var R={getEmployees:function(){return fetch("https://randomuser.me/api/?results=50&nat=ca&exc=login,gender,registered,nat,id&noinfo").then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return e.title=L[Math.floor(Math.random()*L.length)],e}))}))}},T=L.reduce((function(e,t){return Object.assign(e,Object(f.a)({},t,!0))}),{}),I=Object(h.a)({name:new RegExp},T);function W(e,t){var n=t;return n.name=e?new RegExp("^".concat(e),"i"):new RegExp,n}function B(e,t){var n=t;return n[e]=!n[e],n}function J(e,t){return function(e,t){return e.filter((function(e){return t.test(e.name.first)||t.test(e.name.last)}))}(function(e,t){var n,c=[],a=Object(j.a)(L);try{for(a.s();!(n=a.n()).done;){var r=n.value;t[r]&&c.push(r)}}catch(s){a.e(s)}finally{a.f()}return e.filter((function(e){return c.includes(e.title)}))}(e,t),t.name)}var P=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={employees:[],filters:I,sort:y},e.changeNameFilter=function(t){e.setState({filters:W(t.target.value,e.state.filters)})},e.changeTitleFilter=function(t){e.setState({filters:B(t,e.state.filters)})},e.changeNameSort=function(t){e.setState({sort:N(t,e.state.sort)})},e.getEmployees=function(){return w(J(e.state.employees,e.state.filters),e.state.sort)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;R.getEmployees().then((function(t){e.setState({employees:t},(function(){console.log(this.state.employees)}))}))}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)("h1",{className:"mt-3",children:[Object(c.jsx)("i",{className:"fas fa-id-badge mr-3"}),"Employee Directory"]})})}),Object(c.jsx)("div",{className:"row py-3",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)("form",{children:[Object(c.jsx)(S,{id:"name-filter",title:"Filter by name:",placeholder:"Type a name to begin filtering",onChange:this.changeNameFilter}),Object(c.jsx)(M,{filters:this.state.filters,checkList:L,update:this.changeTitleFilter})]})})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)("table",{className:"table table-hover",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Image"}),Object(c.jsx)("th",{scope:"col",children:"Title"}),g.map((function(t,n){return Object(c.jsx)(F,{title:t.title,icon:e.state.sort[t.title],onClick:function(){e.changeNameSort(t.title)}},n)})),Object(c.jsx)("th",{scope:"col",children:"Email"}),Object(c.jsx)("th",{scope:"col",children:"Phone Number"}),Object(c.jsx)("th",{scope:"col",children:"Postal Code"})]})}),Object(c.jsx)("tbody",{children:this.getEmployees().map((function(t,n){return Object(c.jsx)(C,{employee:t,nameMatch:e.state.filters.name},n)}))})]})})})]})}}]),n}(r.a.Component);var A=function(){return Object(c.jsx)(P,{})};n(20),n(21);l.a.render(Object(c.jsx)(A,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.be530645.chunk.js.map